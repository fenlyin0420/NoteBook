## 基本的仿射变换矩阵
- 平移
$$
\begin{bmatrix}
1 & 0 & 0 & tx \\
0 & 1 & 0 & ty \\
0 & 0 & 1 & tz \\
0 & 0 & 0 & 1
\end{bmatrix}
$$
## 模型变换
模型如果保持不动那就是单位矩阵，模型如果有动作（平移、旋转等），就应用相应的变换。

如果模型给出时，只给出了模型原点在世界坐标系的坐标，模型中其他顶点的坐标均为局部坐标，那么模型变换的最后一步，还应包括模型顶点从局部坐标到世界坐标的转换。



## 视图变换
求被观察物体在观察坐标系下的坐标值。设物体在世界坐标系下的坐标为 $\boldsymbol{x}$ , 基变换矩阵为 $T$ , 则在新基下的坐标$\boldsymbol{y}$ 为:
$$
\boldsymbol{y} = T\boldsymbol{x}
$$
### 基转移矩阵求法
知道原基和目标基在标准正交基下的基向量坐标，向量在原基下的坐标，求向量在目标基下的向量。
从有序基 $\boldsymbol{[v_1}, \boldsymbol{v_2]}$ 到有序基 $\boldsymbol{[u_1}, \boldsymbol{u_2]}$ 的转移矩阵为
$$
	T = U^{-1}V
$$

![](Pasted%20image%2020250211134900.png)

## 投影变换
观察空间不同，裁剪和屏幕映射时，需要应对不同的情况，比较麻烦。

将视锥体变换到标准立方体中。 视锥体由六个裁剪平面确定（近裁剪平面、远裁剪平面、上下裁剪平面，左右裁剪平面）

![](Pasted%20image%2020250210141126.png)

可以先将观察空间规范化。
![](Pasted%20image%2020250210140843.png)

# 视图变换
将标准立方体变换到屏幕空间

## 窗口变换
$$
\begin{bmatrix}
\frac{x_{h}^{\prime}-x_{l}^{\prime}}{x_{h}-x_{l}} & 0 & 0 & \frac{x_{l}^{\prime}x_{h}-x_{h}^{\prime}x_{l}}{x_{h}-x_{l}} \\
0 & \frac{y_{h}^{\prime}-y_{l}^{\prime}}{y_{h}-y_{l}} & 0 & \frac{y_{l}^{\prime}y_{h}-y_{h}^{\prime}y_{l}}{y_{h}-y_{l}} \\
0 & 0 & \frac{z_{h}^{\prime}-z_{l}^{\prime}}{z_{h}-z_{l}} & \frac{z_{l}^{\prime}z_{h}-z_{h}^{\prime}z_{l}}{z_{h}-z_{l}} \\
0 & 0 & 0 & 1
\end{bmatrix}.
$$
## 光栅化

- 垂直视野
- 宽高比
![](Pasted%20image%2020250210190524.png)

光栅的一个实例就是屏幕。将图像绘制到屏幕上的过程称为光栅化。
