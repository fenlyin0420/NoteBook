## vmd 文件包含的数据
在标准的 **VMD (Vocaloid Motion Data)** 文件格式中，**骨骼记录（Bone Records）** 通常包含以下信息：

1. **骨骼名称（Bone Name）**
2. **帧时间（Frame Time）**
3. **位置（Translation）**：`tx`, `ty`, `tz`
4. **旋转（Rotation）**：四元数 `rx`, `ry`, `rz`, `rw`
5. **插值数据（Interpolation Data）**

**缩放（Scale）** 数据并不包含在标准的 VMD 骨骼记录中。VMD 文件格式主要用于控制 MikuMikuDance (MMD) 中模型的 **位置** 和 **旋转**，而缩放通常在模型文件（如 PMD 或 PMX 文件）中定义，而不是在动画数据中。


## 各个记录的大小
在标准的 **VMD (Vocaloid Motion Data)** 文件格式中，不同记录的大小是固定的，具体如下：

### 1. **Bone Records（骨骼记录）**

- **固定大小**：111 字节
- **数据内容**：
    - 15 字节：骨骼名称（Shift-JIS 编码）
    - 4 字节：帧时间
    - 12 字节：位置 (tx, ty, tz, 各4字节 float)
    - 16 字节：旋转 (四元数 rx, ry, rz, rw, 各4字节 float)
    - 64 字节：插值数据 (4 组 * 4 维 * 4 字节)

---

### 2. **Morph Records（表情记录）**

- **固定大小**：47 字节
- **数据内容**：
    - 15 字节：表情名称
    - 4 字节：帧时间
    - 4 字节：权重 (float)

---

### 3. **Camera Records（摄像机记录）**

- **固定大小**：61 字节
- **数据内容**：
    - 4 字节：帧时间
    - 4 字节：摄像机距离 (float)
    - 12 字节：位置 (px, py, pz, 各4字节 float)
    - 12 字节：旋转 (rx, ry, rz, 各4字节 float)
    - 24 字节：插值数据 (6 维度 * 4 字节)
    - 4 字节：视角角度 (float)
    - 1 字节：是否为正交投影 (byte)

---

### 4. **Light Records（光照记录）**

- **固定大小**：28 字节
- **数据内容**：
    - 4 字节：帧时间
    - 12 字节：光照颜色 (RGB, 各4字节 float)
    - 12 字节：光源位置 (xyz, 各4字节 float)

---

### 5. **Shadow Records（阴影记录）**

- **固定大小**：9 字节
- **数据内容**：
    - 4 字节：帧时间
    - 1 字节：阴影模式 (byte, 0=关, 1=模式1, 2=模式2)
    - 4 字节：阴影距离 (float)

---

### 6. **IK Records（IK记录）**

- **大小不固定**，取决于 **IK 控制器的数量**，一个记录的基本格式是：
    - 4 字节：帧时间
    - 1 字节：启用的 IK 数量 (byte)
    - 每个 IK：
        - 20 字节：IK 名称（Shift-JIS 编码，最多20字节）
        - 1 字节：启用/禁用状态 (byte)

**示例：**

- 如果启用了 2 个 IK 控制器，则该记录大小为：
    - 4（帧时间）+ 1（IK数量）+ 2 * (20 + 1) = **46 字节**

---

### **总结**

| 记录类型          | 每个记录大小（字节）        |
| ------------- | ----------------- |
| Bone Record   | 111               |
| Morph Record  | 47                |
| Camera Record | 61                |
| Light Record  | 28                |
| Shadow Record | 9                 |
| IK Record     | 依赖于IK数量（最小 25 字节） |
|               |                   |

